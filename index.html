<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ORTUS | L'Excellence Immobilière</title>
    
    <meta name="description" content="Agence immobilière de prestige à Madagascar.">
    <meta name="theme-color" content="#020610">
    <meta property="og:image" content="https://aurora029.github.io/Projet-immo-Ortus/assets/img/hero-bg.jpg">

    <link rel="stylesheet" href="assets/css/style.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- OVERRIDES SPÉCIFIQUES LANDING PAGE --- */
        
        /* 1. On force le plein écran et pas de scroll */
        body, html { 
            height: 100%; 
            overflow: hidden; 
            background-color: #020610; 
        }

        /* 2. NAVBAR TRANSLUCIDE (Glassmorphism) */
        /* On surcharge ta classe .navbar existante juste pour cette page */
        .navbar {
            background-color: transparent !important; /* On enlève le bleu nuit */
            background: linear-gradient(to bottom, rgba(2,6,16,0.9) 0%, rgba(2,6,16,0) 100%) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
            position: absolute; /* Elle flotte sur la vidéo */
            top: 0; width: 100%;
            box-shadow: none !important;
        }

        /* 3. WRAPPER FOND (Image + Vidéo) */
        .background-wrapper {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            /* SÉCURITÉ ABSOLUE : L'image se charge via CSS */
            background: url('assets/img/hero-bg.jpg') no-repeat center center;
            background-size: cover;
        }

        .background-wrapper video {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0; /* Cachée au début */
            transition: opacity 1.5s ease;
        }
        
        /* Classe ajoutée par JS quand la vidéo est prête */
        .video-ready { opacity: 1 !important; }

        .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(2,6,16,0.4); /* Un filtre léger pour la lisibilité */
            z-index: 0;
        }

        /* 4. CONTENU CENTRAL (Centré parfait) */
        .landing-content {
            position: relative; z-index: 10;
            height: 100%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            text-align: center;
            padding: 20px;
        }

        /* Titre Géant Landing */
        .landing-title {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            color: white;
            margin-bottom: 10px;
            letter-spacing: 5px;
            text-transform: uppercase;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
            animation: slideDown 1.2s ease-out;
        }

        .landing-subtitle {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.1rem;
            color: #D4AF37;
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 50px;
            animation: slideUp 1.2s ease-out 0.3s forwards;
            opacity: 0;
        }

        /* Bouton Explorer (Style Ortus) */
        .btn-explore {
            padding: 18px 50px;
            border: 1px solid #D4AF37;
            background: rgba(2, 6, 16, 0.6);
            backdrop-filter: blur(5px);
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.4s ease;
            animation: slideUp 1.2s ease-out 0.6s forwards;
            opacity: 0;
        }

        .btn-explore:hover {
            background: #D4AF37;
            color: #020610;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
            transform: translateY(-3px);
        }

        /* 5. GESTION MENU MOBILE (Important !) */
        /* Quand le menu est ouvert sur mobile, il faut un fond opaque */
        @media (max-width: 768px) {
            .nav-menu { background-color: #020610 !important; }
            .landing-title { font-size: 3rem; }
            .landing-subtitle { font-size: 0.8rem; letter-spacing: 2px; }
        }

        @keyframes slideDown { from { transform: translateY(-30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="container nav-container">
            <a href="accueil.html" class="logo-container">
                <span class="logo-main">ORTUS<span class="dot">.</span></span>
                <span class="logo-sub">IMMOBILIER</span>
            </a>
            
            <div class="menu-toggle" id="mobile-menu">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>

            <ul class="nav-menu">
                <li><a href="accueil.html" class="nav-link">Accueil</a></li>
                <li><a href="accueil.html" class="nav-link">Vente</a></li>
                <li><a href="accueil.html" class="nav-link">Location</a></li>
                <li><a href="prestige.html" class="nav-link nav-link-prestige"><i class="fas fa-crown"></i> Prestige</a></li>
                <li><a href="accueil.html#contact" class="btn-contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="background-wrapper">
        <video id="landingVideo" autoplay muted loop playsinline poster="assets/img/hero-bg.jpg">
            <source src="assets/img/hero-video.mp4" type="video/mp4">
        </video>
        <div class="overlay"></div>
    </div>

    <div class="landing-content">
        <h1 class="landing-title">ORTUS</h1>
        <p class="landing-subtitle">L'Art de Vivre à Madagascar</p>
        
        <a href="accueil.html" class="btn-explore">
            Explorer le site
        </a>
    </div>

    <script src="assets/js/main.js"></script>

    <script type="text/javascript">
        // 1. Script "Force Play" pour la vidéo
        document.addEventListener('DOMContentLoaded', function() {
            var video = document.getElementById('landingVideo');
            
            // On tente de lancer la vidéo
            var promise = video.play();
            
            if (promise !== undefined) {
                promise.then(function() {
                    // Succès : on affiche la vidéo en fondu
                    video.classList.add('video-ready');
                }).catch(function(error) {
                    // Échec (iPhone Eco Mode) : on ne fait rien.
                    // Le CSS .background-wrapper montre déjà l'image de fond !
                    console.log("Autoplay bloqué, fallback sur image.");
                });
            }
        });

        // 2. Chat CRISP
        window.addEventListener('load', function() {
            window.$crisp=[]; window.CRISP_WEBSITE_ID="345303c7-2111-4379-aa50-b09492a6c2c4";
            (function(){ d=document; s=d.createElement("script"); s.src="https://client.crisp.chat/l.js"; s.async=1; d.getElementsByTagName("head")[0].appendChild(s); })();
        });

        // 3. PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>

</body>
</html>
